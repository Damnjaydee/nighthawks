<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Nighthawks — Concierge Request</title>
  <meta name="description" content="Submit a concierge request to Nighthawks." />
  <meta name="theme-color" content="#0b0b0b" />
  <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet" />
  <style>
    :root{
      --bg:#0b0b0b; --ink:#fff; --muted:rgba(255,255,255,.78);
      --line:rgba(255,255,255,.14); --soft:rgba(255,255,255,.06);
    }
    *{box-sizing:border-box}
    html,body{margin:0;height:100%}
    body{
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      color:var(--ink); background:var(--bg);
    }

    /* Backdrop image (no 'fixed' for better mobile perf) */
    .backdrop{
      position:fixed; inset:0; z-index:-2;
      background:url("assets/bg-membership.jpg") center/cover no-repeat;
    }
    .backdrop::after{
      content:""; position:absolute; inset:0; z-index:-1;
      background:linear-gradient(180deg, rgba(0,0,0,.55), rgba(0,0,0,.75) 40%, rgba(0,0,0,.9));
    }

    /* NAV */
    .nav{position:sticky; top:0; z-index:60; backdrop-filter:saturate(140%) blur(10px);
         background:rgba(0,0,0,.35); border-bottom:1px solid var(--line)}
    .nav-inner{max-width:1120px; margin:0 auto; padding:10px 16px; display:flex; align-items:center; justify-content:space-between}
    .brand{display:flex; align-items:center; gap:10px; text-decoration:none; color:#fff}
    .brand img{height:24px; width:auto}
    .brand span{letter-spacing:.2em; text-transform:uppercase; font-size:12px; opacity:.85}
    .links{display:none; gap:24px; align-items:center}
    .links a{color:rgba(255,255,255,.85); text-decoration:none; font-size:14px}
    .links a:hover{color:#fff}
    .cta{background:#fff; color:#000; padding:10px 16px; border-radius:999px; text-decoration:none; font-weight:600; white-space:nowrap}

    /* Burger */
    .burger{display:flex; flex-direction:column; gap:4px; background:transparent; border:0}
    .burger span{display:block; width:22px; height:2px; background:#fff; transition:.25s}
    .burger.open span:nth-child(1){transform:translateY(6px) rotate(45deg)}
    .burger.open span:nth-child(2){opacity:0}
    .burger.open span:nth-child(3){transform:translateY(-6px) rotate(-45deg)}
    .mobile{display:none; position:fixed; top:52px; left:0; right:0; background:#0b0b0b; border-bottom:1px solid var(--line); z-index:50}
    .mobile a{display:block; padding:12px 16px; color:#fff; text-decoration:none}
    .mobile .cta{margin:8px 16px 12px; display:inline-block}
    .mobile.open{display:block}

    /* PAGE */
    .wrap{max-width:1120px; margin:0 auto; padding:24px 16px 64px}
    .intro{max-width:720px; margin:24px auto 16px; text-align:center}
    .intro h1{font-family:"DM Serif Display",serif; font-weight:400; margin:6px 0 0; font-size:28px}
    .intro p{color:var(--muted); margin:10px 0 0; font-size:15px}

    .grid{display:grid; grid-template-columns:1.15fr .85fr; gap:20px; margin-top:22px}
    .card{background:var(--soft); border:1px solid var(--line); border-radius:16px; backdrop-filter:blur(8px); padding:18px}
    .card h2,.card h3{font-family:"DM Serif Display",serif; font-weight:400; margin:0 0 8px}
    .lede{color:var(--muted); margin:0 0 16px}

    /* FORM */
    form{display:grid; grid-template-columns:1fr 1fr; gap:14px}
    label{font-size:.93rem; color:#e9e9e9; margin-bottom:6px; display:block}
    input, select, textarea{
      width:100%; padding:12px 12px; border-radius:12px;
      border:1px solid var(--line); background:rgba(0,0,0,.55);
      color:#fff; font-size:16px; -webkit-appearance:none; appearance:none;
    }
    input::placeholder, textarea::placeholder{color:rgba(255,255,255,.55)}
    textarea{min-height:120px; resize:vertical}
    .row-2{grid-column:1 / -1}

    .actions{display:flex; flex-wrap:wrap; gap:10px; align-items:center; margin-top:6px}
    .btn{display:inline-flex; align-items:center; justify-content:center; gap:.55rem;
         padding:12px 18px; border-radius:999px; border:1px solid var(--line);
         background:#fff; color:#000; font-weight:600; text-decoration:none; cursor:pointer;
         transition:background .2s ease, transform .2s ease, border-color .2s ease}
    .btn:hover{background:#eaeaea; transform:translateY(-1px)}
    .btn:disabled{opacity:.6; cursor:not-allowed; transform:none}
    .btn.ghost{background:transparent; color:#fff}
    .btn.ghost:hover{background:rgba(255,255,255,.12)}

    .status{font-size:.92rem; color:var(--muted)}
    .status.ok{color:#a7f3d0}
    .status.err{color:#fecaca}

    /* Upsell */
    .upsell p{color:var(--muted); margin:6px 0 14px}
    .perk{display:flex; gap:10px; align-items:flex-start; color:#ddd; margin:8px 0; line-height:1.4}
    .perk span{font-size:18px; line-height:1}

    /* RESPONSIVE */
    @media (max-width: 980px){
      .links{display:none}
      .burger{display:flex}
      .grid{grid-template-columns:1fr}
      form{grid-template-columns:1fr}
      .intro h1{font-size:26px}
    }
    @media (min-width: 981px){
      .burger{display:none}
      .links{display:flex}
      .mobile{display:none!important}
      .intro h1{font-size:32px}
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce){
      .burger span{transition:none}
    }
  </style>
</head>
<body>
  <div class="backdrop" aria-hidden="true"></div>

  <!-- NAV -->
  <header class="nav">
    <div class="nav-inner">
      <a class="brand" href="index.html" aria-label="Nighthawks home">
        <img src="assets/logo-white.jpg" alt="Nighthawks" />
        <span>NIGHTHAWKS</span>
      </a>

      <nav class="links" aria-label="Primary">
        <a href="request.html" aria-current="page">Request</a>
        <a href="membership.html">Membership</a>
        <a href="about.html">About</a>
        <a href="inner-circle.html">Inner Circle</a>
        <a href="login.html">Login</a>
      </nav>

      <a class="cta" href="signup.html">Apply</a>

      <button class="burger" id="burger" aria-label="Open menu" aria-expanded="false" aria-controls="mobile-nav">
        <span></span><span></span><span></span>
      </button>
    </div>

    <nav class="mobile" id="mobile-nav" aria-label="Mobile">
      <a href="request.html" aria-current="page">Request</a>
      <a href="membership.html">Membership</a>
      <a href="about.html">About</a>
      <a href="inner-circle.html">Inner Circle</a>
      <a href="login.html">Login</a>
      <a href="signup.html" class="cta">Apply</a>
    </nav>
  </header>

  <main class="wrap">
    <div class="intro">
      <h1>Concierge Request</h1>
      <p>Tell us what you need — we’ll get back to you shortly. Members receive priority handling.</p>
    </div>

    <div class="grid" role="region" aria-labelledby="request-form-heading">
      <!-- Left: Non-member Request Form -->
      <section class="card" id="request-card">
        <h2 id="request-form-heading">Request Details</h2>
        <p class="lede">Share timing, party size, and preferences. Add as much or as little detail as you like.</p>

        <form id="requestForm" novalidate>
          <!-- honeypot -->
          <input type="text" name="company" tabindex="-1" autocomplete="off" aria-hidden="true" style="display:none" />

          <div>
            <label for="fullName">Full Name*</label>
            <input id="fullName" name="fullName" required placeholder="First & Last Name" autocomplete="name" />
          </div>

          <div>
            <label for="phone">Phone Number*</label>
            <input id="phone" name="phone" required placeholder="(xxx) xxx-xxxx" inputmode="tel" autocomplete="tel" />
          </div>

          <div>
            <label for="email">Email Address*</label>
            <input id="email" name="email" type="email" required placeholder="you@email.com" autocomplete="email" />
          </div>

          <div>
            <label for="typeOfRequest">Type of Request*</label>
            <select id="typeOfRequest" name="typeOfRequest" required>
              <option value="">Select a category</option>
              <option>Restaurant / Table</option>
              <option>Nightlife / Table</option>
              <option>Private Dining</option>
              <option>Event Access</option>
              <option>Itinerary / Planning</option>
              <option>Other</option>
            </select>
          </div>

          <div>
            <label for="date">Preferred Date</label>
            <input id="date" name="date" type="date" autocomplete="off" />
          </div>

          <div>
            <label for="time">Preferred Time</label>
            <input id="time" name="time" type="time" autocomplete="off" />
          </div>

          <div>
            <label for="partySize">Party Size</label>
            <input id="partySize" name="partySize" placeholder="2, 4, 6…" inputmode="numeric" />
          </div>

          <div class="row-2">
            <label for="neighborhood">Neighborhood / Venue Preferences</label>
            <input id="neighborhood" name="neighborhood" placeholder="Soho, West Village, rooftop, lounge…" />
          </div>

          <div class="row-2">
            <label for="budget">Budget (optional)</label>
            <input id="budget" name="budget" placeholder="$350 dinner, $2k table, etc." inputmode="numeric" />
          </div>

          <div class="row-2">
            <label for="details">Details</label>
            <textarea id="details" name="details" placeholder="Occasion, cuisine, vibe, timing, any constraints…"></textarea>
          </div>

          <div class="actions row-2">
            <button class="btn" id="submitBtn" type="submit">Submit Request</button>
            <a class="btn ghost" href="membership-info.html">Apply for Membership</a>
            <span id="formStatus" class="status" role="status" aria-live="polite"></span>
          </div>
        </form>
      </section>

      <!-- Right: Upsell / Why Join -->
      <aside class="card upsell" aria-labelledby="why-join">
        <h3 id="why-join">Why Members Get Priority</h3>
        <p>Membership unlocks guaranteed holds, last-minute tables, and invitation-only moments curated by Nighthawks.</p>
        <div class="perk"><span>•</span><div>Priority queueing on high-demand reservations and events.</div></div>
        <div class="perk"><span>•</span><div>On-call concierge with discreet handling.</div></div>
        <div class="perk"><span>•</span><div>Access to limited-seat experiences across the city.</div></div>
        <a class="btn" href="membership-info.html">Explore Membership</a>
      </aside>
    </div>
  </main>

  <footer class="wrap" style="padding: 12px 16px 32px; text-align:center; color:rgba(255,255,255,.7);">
    © <span id="year"></span> Nighthawks. All rights reserved.
  </footer>

  <script>
    // Year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Mobile menu
    const burger = document.getElementById('burger');
    const mobile = document.getElementById('mobile-nav');
    burger.addEventListener('click', () => {
      const open = mobile.classList.toggle('open');
      burger.classList.toggle('open', open);
      burger.setAttribute('aria-expanded', open ? 'true' : 'false');
    });

    // Form
    (function () {
      const form = document.getElementById('requestForm');
      const statusEl = document.getElementById('formStatus');
      const submitBtn = document.getElementById('submitBtn');

      function setStatus(msg, cls=''){
        statusEl.textContent = msg;
        statusEl.className = 'status ' + (cls || '');
      }

      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        setStatus('Submitting…');
        submitBtn.disabled = true;

        const fd = new FormData(form);
        if (!fd.get('fullName') || !fd.get('email') || !fd.get('typeOfRequest')) {
          setStatus('Please fill required fields.', 'err');
          submitBtn.disabled = false;
          return;
        }

        const payload = {
          fullName:      (fd.get('fullName') || '').toString().trim(),
          email:         (fd.get('email') || '').toString().trim(),
          phone:         (fd.get('phone') || '').toString().trim(),
          typeOfRequest: fd.get('typeOfRequest'),
          date:          fd.get('date') || '',
          time:          fd.get('time') || '',
          partySize:     fd.get('partySize') || '',
          neighborhood:  fd.get('neighborhood') || '',
          budget:        fd.get('budget') || '',
          details:       fd.get('details') || ''
        };

        try {
          const res = await fetch('/api/request', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(payload)
          });
          const data = await res.json();
          if (res.ok && (data.ok || data.status === 'ok')) {
            setStatus('Request received. We’ll be in touch shortly.', 'ok');
            form.reset();
          } else {
            setStatus(data.error || 'Something went wrong. Please try again.', 'err');
          }
        } catch (err) {
          setStatus('Network error. Please try again.', 'err');
        } finally {
          submitBtn.disabled = false;
        }
      });
    })();
  </script>
</body>
</html>
