<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Nighthawks — Concierge Request</title>
  <meta name="description" content="Submit a concierge request to Nighthawks." />
  <meta name="theme-color" content="#0b0b0b" />
  <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet" />
  <style>
    :root{ --bg:#0b0b0b; --ink:#fff; --muted:rgba(255,255,255,.78); --line:rgba(255,255,255,.14); --soft:rgba(255,255,255,.06); --ring:rgba(255,255,255,.9); }
    *{box-sizing:border-box} html,body{margin:0;height:100%}
    body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:var(--ink);background:var(--bg);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
    .backdrop{position:fixed; inset:0; z-index:-2; background:url("assets/bg-membership.jpg") center/cover no-repeat}
    .backdrop::after{content:""; position:absolute; inset:0; background:linear-gradient(180deg, rgba(0,0,0,.55), rgba(0,0,0,.75) 40%, rgba(0,0,0,.9))}
    .nav{position:sticky; top:0; z-index:60; backdrop-filter:saturate(140%) blur(10px); background:rgba(0,0,0,.35); border-bottom:1px solid var(--line)}
    .nav-inner{max-width:1120px; margin:0 auto; padding:10px 16px; display:flex; align-items:center; justify-content:space-between}
    .brand{display:flex; align-items:center; gap:10px; text-decoration:none; color:#fff}
    .brand img{height:24px} .brand span{letter-spacing:.2em; text-transform:uppercase; font-size:12px; opacity:.85}
    .links{display:none; gap:24px; align-items:center} .links a{color:rgba(255,255,255,.85); text-decoration:none; font-size:14px} .links a:hover{color:#fff}
    .cta{background:#fff; color:#000; padding:10px 16px; border-radius:999px; text-decoration:none; font-weight:600; white-space:nowrap}
    .burger{display:flex; flex-direction:column; gap:4px; background:transparent; border:0}
    .burger span{display:block; width:22px; height:2px; background:#fff; transition:.25s}
    .burger.open span:nth-child(1){transform:translateY(6px) rotate(45deg)} .burger.open span:nth-child(2){opacity:0} .burger.open span:nth-child(3){transform:translateY(-6px) rotate(-45deg)}
    .mobile{display:none; position:fixed; top:52px; left:0; right:0; background:#0b0b0b; border-bottom:1px solid var(--line); z-index:50}
    .mobile a{display:block; padding:12px 16px; color:#fff; text-decoration:none} .mobile .cta{margin:8px 16px 12px; display:inline-block} .mobile.open{display:block}
    .wrap{max-width:1120px; margin:0 auto; padding:24px 16px 64px}
    .intro{max-width:720px; margin:24px auto 16px; text-align:center}
    .intro h1{font-family:"DM Serif Display",serif; font-weight:400; margin:6px 0 0; font-size:28px}
    .intro p{color:var(--muted); margin:10px 0 0; font-size:15px}
    .grid{display:grid; grid-template-columns:1.15fr .85fr; gap:20px; margin-top:22px}
    .card{background:var(--soft); border:1px solid var(--line); border-radius:16px; backdrop-filter:blur(8px); padding:18px}
    .card h2,.card h3{font-family:"DM Serif Display",serif; font-weight:400; margin:0 0 8px}
    form{display:grid; grid-template-columns:1fr 1fr; gap:14px}
    label{font-size:.93rem; color:#e9e9e9; margin-bottom:6px; display:block}
    input,select,textarea{width:100%; padding:12px; border-radius:12px; border:1px solid var(--line); background:rgba(0,0,0,.55); color:#fff; font-size:16px; outline:none}
    textarea{min-height:120px; resize:vertical} .row-2{grid-column:1/-1}
    .actions{display:flex; flex-wrap:wrap; gap:10px; align-items:center; margin-top:6px}
    .btn{display:inline-flex; align-items:center; justify-content:center; gap:.55rem; padding:12px 18px; border-radius:999px; border:1px solid var(--line); background:#fff; color:#000; font-weight:600; text-decoration:none; cursor:pointer; transition:background .2s, transform .2s}
    .btn:hover{background:#eaeaea; transform:translateY(-1px)} .btn:disabled{opacity:.6; cursor:not-allowed; transform:none}
    .status{font-size:.92rem; color:var(--muted)} .status.ok{color:#a7f3d0} .status.err{color:#fecaca}
    @media (max-width:980px){ .links{display:none} .burger{display:flex} .grid{grid-template-columns:1fr} form{grid-template-columns:1fr} .intro h1{font-size:26px} }
    @media (min-width:981px){ .burger{display:none} .links{display:flex} .mobile{display:none!important} .intro h1{font-size:32px} }
  </style>
</head>
<body>
  <div class="backdrop" aria-hidden="true"></div>

  <header class="nav">
    <div class="nav-inner">
      <a class="brand" href="index.html" aria-label="Nighthawks home"><img src="assets/logo-white.jpg" alt="Nighthawks logo" /><span>NIGHTHAWKS</span></a>
      <nav class="links" aria-label="Primary">
        <a href="request.html" aria-current="page">Request</a><a href="membership.html">Membership</a><a href="about.html">About</a><a href="inner-circle.html">Inner Circle</a><a href="login.html">Login</a>
      </nav>
      <a class="cta" href="membership.html">Apply</a>
      <button class="burger" id="burger" aria-label="Open menu" aria-expanded="false" aria-controls="mobile-nav"><span></span><span></span><span></span></button>
    </div>
    <nav class="mobile" id="mobile-nav" aria-label="Mobile">
      <a href="request.html" aria-current="page">Request</a><a href="membership.html">Membership</a><a href="about.html">About</a><a href="inner-circle.html">Inner Circle</a><a href="login.html">Login</a><a href="membership.html" class="cta">Apply</a>
    </nav>
  </header>

  <main class="wrap">
    <div class="intro">
      <h1>Concierge Request</h1>
      <p>Tell us what you need — we’ll get back to you shortly. Members receive priority handling.</p>
    </div>

    <div class="grid" role="region" aria-labelledby="request-form-heading">
      <section class="card" id="request-card">
        <h2 id="request-form-heading">Request Details</h2>
        <form id="request-form" novalidate>
          <input type="text" name="company" tabindex="-1" autocomplete="off" aria-hidden="true" style="display:none" />
          <div><label for="fullName">Full Name*</label><input id="fullName" name="fullName" required placeholder="First &amp; Last Name" autocomplete="name" /></div>
          <div><label for="phone">Phone Number*</label><input id="phone" name="phone" required placeholder="(xxx) xxx-xxxx" inputmode="tel" autocomplete="tel" /></div>
          <div><label for="email">Email Address*</label><input id="email" name="email" type="email" required placeholder="you@email.com" autocomplete="email" /></div>
          <div><label for="type">Type of Request*</label>
            <select id="type" name="type" required>
              <option value="">Select a category</option><option>Dinner</option><option>Nightlife</option><option>Private Dining</option><option>Event Access</option><option>Itinerary / Planning</option><option>Other</option>
            </select>
          </div>
          <div><label for="date">Preferred Date</label><input id="date" name="date" type="date" autocomplete="off" /></div>
          <div><label for="time">Preferred Time</label><input id="time" name="time" type="time" step="900" autocomplete="off" /></div>
          <div><label for="partySize">Party Size</label><input id="partySize" name="partySize" type="number" min="1" inputmode="numeric" placeholder="2, 4, 6…" /></div>
          <div class="row-2"><label for="neighborhood">Neighborhood / Venue Preferences</label><input id="neighborhood" name="neighborhood" placeholder="Soho, West Village, rooftop, lounge…" /></div>
          <div class="row-2"><label for="budget">Budget (optional)</label><input id="budget" name="budget" placeholder="$350 dinner, $2k table, etc." inputmode="numeric" /></div>
          <div class="row-2"><label for="details">Details</label><textarea id="details" name="details" placeholder="Occasion, cuisine, vibe, timing, any constraints…"></textarea></div>
          <div class="actions row-2"><button class="btn" id="submitBtn" type="submit">Submit Request</button><a class="btn" style="background:transparent;color:#fff;border-color:var(--line)" href="membership.html">Apply for Membership</a><span id="formStatus" class="status" role="status" aria-live="polite"></span></div>
        </form>
      </section>

      <aside class="card" aria-labelledby="why-join">
        <h3 id="why-join" style="font-family:'DM Serif Display',serif;font-weight:400;margin:0 0 8px">Why Members Get Priority</h3>
        <p style="color:var(--muted);margin:6px 0 14px">Membership unlocks guaranteed holds, last-minute tables, and invitation-only moments curated by Nighthawks.</p>
        <div class="perk">• Priority queueing on high-demand reservations and events.</div>
        <div class="perk">• On-call concierge with discreet handling.</div>
        <div class="perk">• Access to limited-seat experiences across the city.</div>
        <a class="btn" href="membership.html">Explore Membership</a>
      </aside>
    </div>
  </main>

  <footer class="wrap" style="padding:12px 16px 32px;text-align:center;color:rgba(255,255,255,.7)">© <span id="year"></span> Nighthawks. All rights reserved.</footer>

  <script>
    const API_BASE=""; const apiUrl=(p)=>(API_BASE||"")+p;
    document.getElementById('year').textContent=new Date().getFullYear();
    const burger=document.getElementById('burger'), mobile=document.getElementById('mobile-nav');
    burger.addEventListener('click',()=>{ const open=mobile.classList.toggle('open'); burger.classList.toggle('open',open); burger.setAttribute('aria-expanded',open?'true':'false'); });
    const setStatus=(m,c='')=>{const el=document.getElementById('formStatus'); el.textContent=m; el.className='status '+(c||'');};
    const normalizePhone=(v)=>v.replace(/[^\d+]/g,'').slice(0,16);
    const isValidEmail=(v)=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v||'');
    (function(){
      const form=document.getElementById('request-form'); const btn=document.getElementById('submitBtn');
      const dateEl=document.getElementById('date'); if(dateEl){ const d=new Date(), pad=n=>String(n).padStart(2,'0'); dateEl.min=`${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())}`; }
      form.addEventListener('submit', async (e)=>{
        e.preventDefault();
        const honey=form.querySelector('input[name="company"]'); if(honey && honey.value){ setStatus('Blocked (bot detected).','err'); return; }
        setStatus('Submitting…'); btn.disabled=true; btn.textContent='Submitting…';
        const fd=new FormData(form);
        const payload={
          fullName:(fd.get('fullName')||'').toString().trim(),
          email:(fd.get('email')||'').toString().trim(),
          phone:normalizePhone((fd.get('phone')||'').toString()),
          typeOfRequest:(fd.get('type')||'').toString(),
          date:fd.get('date')||'', time:fd.get('time')||'',
          partySize:fd.get('partySize')||'', neighborhood:fd.get('neighborhood')||'',
          budget:fd.get('budget')||'', details:fd.get('details')||''
        };
        let hasErr=false;
        if(!payload.fullName) hasErr=true;
        if(!isValidEmail(payload.email)) hasErr=true;
        if(!payload.phone || payload.phone.length<10) hasErr=true;
        if(!payload.typeOfRequest) hasErr=true;
        if(hasErr){ setStatus('Please complete required fields.','err'); btn.disabled=false; btn.textContent='Submit Request'; return; }

        try{
          const res=await fetch(apiUrl('/api/request'),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});
          let data={}; try{ data=await res.json(); }catch{}
          if(res.ok && (data.ok!==false)){ setStatus('Request received. Redirecting…','ok'); window.location.href='thank-you.html?type=request'; }
          else setStatus(data.error || 'Something went wrong. Please try again.','err');
        }catch{ setStatus('Network error. Please try again.','err'); }
        finally{ btn.disabled=false; btn.textContent='Submit Request'; }
      });
    })();
  </script>
</body>
</html>
